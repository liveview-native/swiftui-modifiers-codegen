import SwiftUI
import SwiftSyntax

/// Generated modifier enum for TaskModifier modifiers.
///
/// This enum provides type-safe access to SwiftUI view modifiers.
/// Generated by ModifierSwift.
public enum TaskModifier: Sendable {
    case taskWithTaskPriorityVoid(priority: _Concurrency.TaskPriority)
    case taskWithTTaskPriorityVoid(id: T, priority: _Concurrency.TaskPriority)
}

extension TaskModifier: RuntimeViewModifier {
    public static var baseName: String { "task" }

    public init(syntax: FunctionCallExprSyntax) throws {
        switch syntax.arguments.count {
        case 1:
            let priority: _Concurrency.TaskPriority = if let expr = syntax.argument(named: "priority")?.expression, let parsed = _Concurrency.TaskPriority(syntax: expr) { parsed } else { .userInitiated }
            self = .taskWithTaskPriorityVoid(priority: priority)
        case 2:
            guard let expr_id = syntax.argument(named: "id")?.expression, let id = T(syntax: expr_id) else {
                throw ModifierParseError.invalidArguments(modifier: "TaskModifier", variant: "taskWithTTaskPriorityVoid", expectedTypes: "T, _Concurrency.TaskPriority")
            }
            let priority: _Concurrency.TaskPriority = if let expr = syntax.argument(named: "priority")?.expression, let parsed = _Concurrency.TaskPriority(syntax: expr) { parsed } else { .userInitiated }
            self = .taskWithTTaskPriorityVoid(id: id, priority: priority)
        default:
            throw ModifierParseError.unexpectedArgumentCount(modifier: "TaskModifier", expected: [1, 2], found: syntax.arguments.count)
        }
    }

    public func body(content: Content) -> some View {
        switch self {
        case .taskWithTaskPriorityVoid(let priority):
            content.task(priority: priority)
        case .taskWithTTaskPriorityVoid(let id, let priority):
            content.task(id: id, priority: priority)
        }
    }
}